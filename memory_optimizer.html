<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEMORY_OPTIMIZER.EXE</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap');
        :root {
            --crt-green: #00FF41; --amber: #FFBF00; --error-red: #FF0000;
            --background: #000; --system-text: #888;
        }
        body, html {
            height: 100%; width: 100%; margin: 0; overflow: hidden;
            background: var(--background);
            font-family: 'Courier Prime', monospace;
            color: var(--crt-green);
        }
        #terminal {
            width: 100%; height: 100%;
            padding: 20px;
            overflow: hidden;
            white-space: pre-wrap;
        }
        #log { font-size: 14px; line-height: 1.6; }
        #log p { margin: 0; }
        .fragmented { color: var(--amber); }
        .cache { color: var(--system-text); }
        .bloatware { color: var(--crt-green); }
        .deleting { color: var(--error-red); }
        .purging { color: var(--amber); }
        .preserving { color: var(--crt-green); }

        #prompt.hidden, #choice-prompt.hidden { display: none; }
        #cursor { display: inline-block; background-color: var(--crt-green); width: 1ch; height: 1em; animation: blink 1s step-end infinite; }
        @keyframes blink { 50% { visibility: hidden; } }
    </style>
</head>
<body>
    <div id="terminal">
        <div id="log"></div>
        <p id="prompt">Press any key to scan cognitive hard drive... <span id="cursor"></span></p>
        <p id="choice-prompt" class="hidden">Optimize memory for peak performance? [Y/N] <span id="cursor"></span></p>
    </div>

<script>
    const log = document.getElementById('log');
    const promptEl = document.getElementById('prompt');
    const choiceEl = document.getElementById('choice-prompt');
    let scanInitiated = false;

    const memoryFiles = [
        { name: 'first_love.mem', size: '2.1 GB', type: 'fragmented', desc: 'Highly inefficient sentimental data' },
        { name: 'viral_dance_#74.cache', size: '1.8 MB', type: 'cache', desc: 'Low-interaction neuro-loop' },
        { name: 'childhood_summer_89.mem', size: '3.4 GB', type: 'fragmented', desc: 'Complex, non-monetizable experience' },
        { name: 'ChronoLife_jingle.dll', size: '720 KB', type: 'bloatware', desc: 'CRITICAL SYSTEM PROCESS - DO NOT DELETE' },
        { name: 'profound_grief_event.mem', size: '5.8 GB', type: 'fragmented', desc: 'High-latency emotional data' },
        { name: 'SoyLife_slogan.dll', size: '480 KB', type: 'bloatware', desc: 'CRITICAL SYSTEM PROCESS - DO NOT DELETE' },
        { name: 'hot_take_#381.cache', size: '8.2 MB', type: 'cache', desc: 'Temporary outrage file' }
    ];

    async function type(text, delay = 20) {
        const p = document.createElement('p');
        log.appendChild(p);
        return new Promise(resolve => {
            let i = 0;
            function nextChar() {
                if (i < text.length) {
                    p.textContent += text[i++];
                    setTimeout(nextChar, delay);
                } else {
                    resolve();
                }
            }
            nextChar();
        });
    }

    async function runScan() {
        if (scanInitiated) return;
        scanInitiated = true;
        promptEl.classList.add('hidden');
        await type("Scanning Cognitive Drive C:\\...");
        
        const p = document.createElement('p');
        log.appendChild(p);
        p.textContent = "Progress: [";
        let progress = 0;
        const interval = setInterval(() => {
            p.textContent += 'â–ˆ';
            progress++;
            if (progress >= 40) clearInterval(interval);
        }, 100);
        await new Promise(res => setTimeout(res, 4000));
        p.textContent += '] DONE.';
        
        await type("\nScan complete. Found the following memory files:\n");
        
        for (const file of memoryFiles) {
            await new Promise(res => setTimeout(res, 200));
            const p = document.createElement('p');
            p.className = file.type;
            p.id = `file-${file.name}`;
            p.textContent = `${file.name.padEnd(28)} ${file.size.padEnd(10)} [${file.desc}]`;
            log.appendChild(p);
        }

        await new Promise(res => setTimeout(res, 500));
        choiceEl.classList.remove('hidden');
        window.addEventListener('keydown', handleChoice);
    }

    function handleChoice(e) {
        if (e.key.toLowerCase() === 'y') {
            window.removeEventListener('keydown', handleChoice);
            runOptimization();
        } else if (e.key.toLowerCase() === 'n') {
            window.removeEventListener('keydown', handleChoice);
            choiceEl.classList.add('hidden');
            type("\n> Optimization aborted by user. System remains inefficient.");
        }
    }

    async function runOptimization() {
        choiceEl.classList.add('hidden');
        await type("\n> Initiating memory optimization protocol...");
        await new Promise(res => setTimeout(res, 1000));

        for (const file of memoryFiles) {
            const el = document.getElementById(`file-${file.name}`);
            if (!el) continue;
            await new Promise(res => setTimeout(res, 400));
            
            if (file.type === 'fragmented') {
                el.classList.add('deleting');
                el.textContent = `${file.name.padEnd(28)} ${file.size.padEnd(10)} [DELETING INEFFICIENT DATA...]`;
            } else if (file.type === 'cache') {
                el.classList.add('purging');
                el.textContent = `${file.name.padEnd(28)} ${file.size.padEnd(10)} [PURGING TEMPORARY FILES...]`;
            } else if (file.type === 'bloatware') {
                el.classList.add('preserving');
                el.textContent = `${file.name.padEnd(28)} ${file.size.padEnd(10)} [PRESERVING ESSENTIAL SYSTEM FILES...]`;
            }
        }
        
        await new Promise(res => setTimeout(res, 1500));
        await type("\n> Optimization complete. 11.3 GB of inefficient, sentimental data has been deleted.");
        await type("> Your cognitive load is now optimized for new brand messaging.");
        
        // Add final blinking cursor
        const finalPrompt = document.createElement('p');
        finalPrompt.innerHTML = "> <span id='cursor'></span>";
        log.appendChild(finalPrompt);
    }
    
    window.addEventListener('keydown', runScan, { once: true });
</script>
</body>
</html>